<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Danh sách phòng ban</title>
    <meta charset="UTF-8"/>
    <!-- Ant Design Lite CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/antd@4.24.8/dist/antd.min.css">
    <style>
        body { background: #f6f8fa; }
        .ant-table { background: #fff; }
        .ant-btn { min-width: 90px; margin-bottom: 3px;}
        .ant-table th { background: #fafafa; font-weight: bold;}
        .ant-table td, .ant-table th { text-align: center;}
        .container { max-width: 900px; margin: 40px auto; background: #fff; padding: 28px; border-radius: 8px; box-shadow: 0 3px 12px rgba(0,0,0,0.09);}
        h2 { color: #1890ff; font-weight: 600;}
    </style>
</head>
<body>
<div class="container">
    <h2>Danh sách phòng ban</h2>
    <div style="margin-bottom:20px">
        <a class="ant-btn ant-btn-default" th:href="@{/employees}">Danh sách nhân viên</a>
        <a class="ant-btn ant-btn-primary" th:href="@{/departments/add}">Thêm phòng ban</a>
    </div>
    <form th:action="@{/departments/search}" method="get" class="ant-form-inline" style="margin-bottom:20px;">
        <input type="text" name="name" th:value="${keyword}" class="ant-input" placeholder="Nhập tên phòng ban" style="width:220px"/>
        <button type="submit" class="ant-btn ant-btn-primary">Tìm kiếm</button>
    </form>
    <div class="table-responsive">
        <table class="ant-table ant-table-bordered" style="width:100%">
            <thead>
            <tr>
                <th>Mã phòng ban</th>
                <th>Tên phòng ban</th>
                <th>Hành động</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="dept : ${departments}">
                <td th:text="${dept.deptId}"></td>
                <td th:text="${dept.deptName}"></td>
                <td>
                    <a th:href="@{/departments/detail/{id}(id=${dept.deptId})}" class="ant-btn ant-btn-link">Xem chi tiết</a>
                    <a th:href="@{/departments/edit/{id}(id=${dept.deptId})}" class="ant-btn ant-btn-warning">Chỉnh sửa</a>
                    <a th:href="@{/departments/delete/{id}(id=${dept.deptId})}"
                       class="ant-btn ant-btn-danger"
                       th:onclick="'return confirm(\'Bạn có chắc muốn xóa phòng ban này?\')'">Xóa</a>
                    <a th:href="@{/employees/department/{deptId}(deptId=${dept.deptId})}" class="ant-btn ant-btn-default">Employees</a>
                </td>
            </tr>
            </tbody>
        </table>
    </div>
</div>
</body>
</html>